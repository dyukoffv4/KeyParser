# Light KeyParser - Тестовая облегченная версия библиотеки KeyParser

## **Содержание**

    1. Общие сведения
    2. Использование
      2.1 Сборка и подключение динамической библиотеки
      2.2 Использование и функционал фреймворка
    3. Тестирование

---
## **1. Общие сведения**
Библиотека *LightKeyParser* позволяет настроить пользователю критерии для парсинга аргументов программы.

Данный тестовый вариант не иммеет функционала для подключения функций - обработчиков для настроенных ключей.
На данный момент он способен, проанализировать входящие аргументы и организовать их в структуру, где будет указан ключ, его аргументы, а также порядок вызова ключей.

На данный момент проект собирается исключительно в ОС Linux на основе Debian.

---
## **2. Использование**

### **2.1. Сборка и подключение динамической библиотеки**

Для работы с содержимым проекта был создан bash-скрипт `controller.sh`.
Для сборки пакета следует запустить скрипт с командой `build`. Созданный пакет будет находится в директории "out".
Для удаления бинарных файлов и промежуточных файлов следует запустить скрипт с командой `clean`.

    $ bash controller build
    $ bash controller clean

Для установки пакета в систему выполните следующие команды:

    $ sudo apt install ./out/lkeyparser.deb
    $ sudo ldconfig

Для сборки программы компилятором g++ с использованием установленной библиотеки включите `-llkeyparser` в команду:

    $ sudo g++ main.cpp -llkeyparser -o main

### **2.2. Использование и функционал фреймворка**
Для использования элементов *KeyParser* нужно подключить заголовочный файл `parser.hpp`:

    #include <lkeyparser/parser.hpp>

Все элементы Фреймворка расположены в пространстве имен `keyparser`. Используется класс `Parser` и `Key`. На выход предоставляется объект класса `Tasks`.

#### **Классы:**

*`Key`* - класс, который хранит информацию о ключе и имеет необходимый функционал для его использования в `Parser`.

*`Parser`* - класс, который занимается разбором поступающих параметров и их обработкой в соответствии с настройкой соответствующих ключей.

***Указание диапазонов**. По умолчанию берутся все возможные аргументы. Установка параметра "-1" означает отсутствие границы диапазона слева или справа, в зависимости от номера параметра. При указании только одного параметра, диапазон будет заменен на точное число аргументов.*

---
## **3. Тестирование**

Тестовые функции располагаются в директории "test/src". Для их сборки предусмотрен Makefile. Пример сборки и запуска тестов:

    KeyParser$ make -C test/
    KeyParser$ test/out/libtest

Тесты для исполнения записываются в файл "test/src/main.cpp", в функцию `main()`. При необходимости можно отредактировать файл "test/src/main.cpp", добавить новые тестовые файлы и добавить зависимости в Makefile.
