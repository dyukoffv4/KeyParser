# KeyParser - Библиотека для работы с входными параметрами приложения на C++

## **Содержание**

    1. Общие сведения
    2. Использование
      2.1 Сборка и подключение динамической библиотеки
      2.2 Использование и функционал библиотеки
    3. Тестирование
    4. Пример использования

---
## **1. Общие сведения**
Библиотека *KeyParser* позволяет настроить пользователю критерии для парсинга аргументов программы.

*KeyParser* поддерживает короткие и длинные имена флагов, вложенные флаги. Содержит систему отслеживания пути возникновения исключений, которая позволяет быстро понять причину возникновения ошибок в работе приложения. На данный момент *KeyParser* способен проанализировать входящие аргументы и организовать их в Задачи.

На данный момент проект собирается исключительно для ОС Linux на основе Debian.

---
## **2. Использование**

### **2.1. Сборка и подключение динамической библиотеки**

Для работы с содержимым проекта был создан bash-скрипт `manager.sh`.

Для сборки проекта и создания библиотеки следует запустить скрипт с командой `cmake`.
Результаты будут храниться в директории "build/cmake".
Для сборки пакета следует запустить скрипт с командой `build`.
Созданный пакет будет храниться в директории "build".

    $ bash manager.sh cmake
    $ bash manager.sh build

Для удаления бинарных файлов и промежуточных файлов следует запустить скрипт с командой `clean`.

    $ bash manager.sh clean cmake       # Для сборки библиотеки
    $ bash manager.sh clean build       # Для сборки пакета
    $ bash manager.sh clean all         # Для сборки всех элементов

Для установки пакета в систему выполните следующие команды:

    $ sudo apt install ./build/keyparser.deb
    $ sudo ldconfig

Для сборки программы компилятором g++ с использованием установленной библиотеки включите `-lkeyparser` в команду:

    $ g++ main.cpp -lkeyparser

### **2.2. Использование и функционал фреймворка**
Для использования элементов *KeyParser* нужно подключить заголовочный файлы.
Для использования функционала класса `Parser`:

    #include <keyparser/parser.hpp>

Для использования функционала класса `Binds`:

    #include <keyparser/binds.hpp>

Все элементы Фреймворка расположены в пространстве имен `keyparser`.

#### **Типичный вариант использования:**
1. Производистя настройка класса `Parser` с использованием ключей `Keys`.
2. Производится парсинг входный элементов. В результате образуются задачи `Tasks`.
3. Производистя настройка класса `Binds` с использованием ключей `Keys` и функций вызова.
4. Задачи `Tasks` передаются в класс `Binds`. Объект класса вызывает нужный функции.

#### **Классы:**

*`Key`* - класс, который хранит информацию о ключе и имеет необходимый функционал для его использования в `Parser` и `Binds`.

*`Parser`* - класс, который занимается разбором поступающих параметров и их обработкой в соответствии с настройкой соответствующих ключей.

*`Tasks`* - класс, который хранит разобранные ключи и параметры, для дальнейшего выполнения работ на их основе, в том числе классом `Binds`.

*`Binds`* - класс, который занимается просмотром поступивших задач класса `Tasks`, и вызовом функций с параметрами, указанными в них.

***Указание диапазонов**. По умолчанию берутся все возможные аргументы. Для установки максимального предела используется встроенная константа `uint_max`. При указании только одного параметра, диапазон будет заменен на точное число аргументов.*

---
## **3. Тестирование**
Все элементы тестирования находятся в директории "tests". Для управлением тестов используется команда `tests`.

    $ bash manager.sh tests cmake       # Для сборки тестов
    $ bash manager.sh tests run         # Для запуска тестов
    $ bash manager.sh tests all         # Для сборки и запуска тестов

---
## **4. Пример использования**
**KeyParser** версии 1.0.1: https://github.com/dyukoffv4/KustKust/tree/master/KeyParser-examples/paint
**KeyParser** версии 1.1.0: https://github.com/dyukoffv4/KustKust/tree/master/KeyParser-examples/wallmake
